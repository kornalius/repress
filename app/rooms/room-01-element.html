<link rel="import" href="../elements/theme.html">
<link rel="import" href="../elements/room-element.html">
<link rel="import" href="../rooms/room-02-element.html">

<dom-module id="room-01-element">

  <template>
    <style include="app-theme">
      :host {
        @apply --layout-vertical;
      }
      #room {
      }
    </style>

    <room-element id="room" label="Wake Up" music="mindstorm">

      <template is="dom-if" if="[[!tattoo]]">

        <div class="layout vertical">

          <image-element src="assets/images/dead woman.png" areas="[[girlAreas]]" on-tattoo="_onTattoo"></image-element>

          <type-element auto-start>You wake up feeling dizzy as hell. Your stomach is burning like a volcano. Your vision is troubled and your feet are soft as rubber. Next to you lies a woman, who, at first sight, seem to be sleeping but you are not a rookie anymore and know too well that she is not dreaming of your sexual prowesses from last night.</type-element>

        </div>

      </template>

      <template is="dom-if" if="[[tattoo]]">

        <div class="layout vertical">

          <image-element src="assets/images/dead woman tattoo.png" areas="[[tattooAreas]]" on-exit="_onExit"></image-element>

          <type-element auto-start>The woman's tattoo really^seems strange to you. Who, in their right mind, would get a geometrical tattoo of this nature on its arm? It definitely looks like some sort of company logo and, as a matter of fact, you recognize it. It's from a company called HKS, a multi national corporation, which happens to have its headquarters right here in this very city, which deals with biogenetics.</type-element>

          <button-element on-button-click="_onGoto">GOTO ROOM</button-element>

        </div>

      </template>

    </room-element>

  </template>

  <script>
    class Room01Element extends Polymer.Element {

      static get is() { return 'room-01-element'; }

      static get properties () {
        return {
          data: {
            type: Object,
            value: () => {},
          },
          tattoo: {
            type: Boolean,
            value: false,
          },
          girlAreas: {
            type: Array,
            value: () => [
              { left: 330, top: 0, right: 520, bottom: 200, event: 'tattoo', hint: 'Tattoo', detail: {} },
            ]
          },
          tattooAreas: {
            type: Array,
            value: () => [
              { left: 0, top: 0, right: 640, bottom: 480, event: 'exit', hint: 'Exit', detail: {} },
            ]
          },
        }
      }

      _onTattoo (e, detail) {
        this.tattoo = true
      }

      _onExit (e, detail) {
        this.tattoo = false
      }

      _onGoto () {
        Repress.app.goto('room-02-element')
      }

    }

    customElements.define(Room01Element.is, Room01Element);
  </script>

</dom-module>
